"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{7612:function(e,n,i){i.d(n,{L5:function(){return b},pc:function(){return y},kK:function(){return h}});var t=i(47568),o=i(26042),r=i(69396),l=i(10253),a=i(29815),d=i(20414),c=function(e){var n="The Economist";return(null===e||void 0===e?void 0:e.sectionHeadline)&&(n="".concat(e.sectionHeadline," | ").concat(n)),(null===e||void 0===e?void 0:e.headline)&&(n="".concat(e.headline," | ").concat(n),(null===e||void 0===e?void 0:e.subheadline)&&(n="".concat(e.subheadline," - ").concat(n))),n},u=function(e){if(!e.headline)return"";var n="".concat(e.headline);return e.subheadline&&(n="".concat(e.subheadline," \u2013 ").concat(n)),n},s=i(35631),v=i(53752),f=i(43135),h=function(e){var n,i,t,o=(null===e||void 0===e?void 0:e.publication)||[];return o.find((function(e){return((null===e||void 0===e?void 0:e.type)||[]).includes("Report")}))?function(e,n){var i,t,o,r,l=n.find((function(e){var n,i=(null===e||void 0===e||null===(n=e.url)||void 0===n?void 0:n.canonical)||"",t=(null===e||void 0===e?void 0:e.type)||"";return i.includes("printedition")&&!t.includes("RegionalIssue")}));return(null===l||void 0===l||null===(i=l.url)||void 0===i?void 0:i.canonical)||(null===e||void 0===e||null===(t=e.publication)||void 0===t||null===(o=t[0])||void 0===o||null===(r=o.url)||void 0===r?void 0:r.canonical)}(e,o):(null===e||void 0===e||null===(n=e.publication)||void 0===n||null===(i=n[0])||void 0===i||null===(t=i.url)||void 0===t?void 0:t.canonical)||null},g=function(e){var n,i,t,o,r,l,d,s,f,h,g,p,m,b,y,Z,P,w,x,C,k,q,T,E,A,I,_,D,L=e,N=(null===e||void 0===e||null===(n=e.publication)||void 0===n||null===(i=n[0])||void 0===i?void 0:i.headline)||null,U=Array.isArray(null===e||void 0===e||null===(t=e.articleSection)||void 0===t?void 0:t.internal)?null===e||void 0===e||null===(o=e.articleSection)||void 0===o?void 0:o.internal.filter((function(e){return(null===e||void 0===e?void 0:e.headline)&&(null===e||void 0===e?void 0:e.url)})):[],M=(null===U||void 0===U||null===(r=U[0])||void 0===r?void 0:r.headline)||N,R=(null===e||void 0===e||null===(l=e.url)||void 0===l?void 0:l.canonical)||"",F=(null===e||void 0===e?void 0:e.headline)||"",O=(null===e||void 0===e?void 0:e.subheadline)||"",H=(null===e||void 0===e?void 0:e.byline)||"",S=(null===(d=e.type)||void 0===d?void 0:d[0])||"",j=(null===e||void 0===e?void 0:e.bodyText)||"",z=(null===e||void 0===e?void 0:e.description)||"",B=null===e||void 0===e||null===(s=e.image)||void 0===s||null===(f=s.main)||void 0===f||null===(h=f.url)||void 0===h?void 0:h.canonical,K=null===e||void 0===e||null===(g=e.image)||void 0===g||null===(p=g.promo)||void 0===p||null===(m=p.url)||void 0===m?void 0:m.canonical,W=(null===e||void 0===e?void 0:e.dateCreated)||"",Y=(null===e||void 0===e?void 0:e.datePublished)||"",G=(null===e||void 0===e?void 0:e.dateModified)||"",J=(null===e||void 0===e?void 0:e.dateline)||"",Q=(null===e||void 0===e?void 0:e.copyrightYear)||"",V="PublicationIssue"===(null===e||void 0===e||null===(b=e.publication)||void 0===b||null===(y=b[0])||void 0===y||null===(Z=y.type)||void 0===Z?void 0:Z[0]),X=(null===e||void 0===e||null===(P=e.publication)||void 0===P||null===(w=P[0])||void 0===w?void 0:w.datePublished)||Y,$=(null===e||void 0===e?void 0:e.inLanguage)||"en",ee=(null===e||void 0===e?void 0:e.id)||"",ne=(null===e||void 0===e?void 0:e.tegID)||"",ie=(null===e||void 0===e||null===(x=e.about)||void 0===x?void 0:x.public)||[],te=(null===e||void 0===e||null===(C=e.articleSection)||void 0===C?void 0:C.public)||[],oe=(0,a.Z)(ie).concat((0,a.Z)(te)).filter((function(e){return e&&e.headline})).map((function(e){return e.headline})),re=function(e){var n=[],i=[],t=function(e){var o,r;"tag"===(null===e||void 0===e?void 0:e.type)&&"figure"===(null===e||void 0===e?void 0:e.name)&&(null===e||void 0===e?void 0:e.attribs)&&((null===(o=e.attribs)||void 0===o?void 0:o["data-infographic-js"])&&n.push("https://infographics.economist.com".concat(e.attribs["data-infographic-js"])),(null===(r=e.attribs)||void 0===r?void 0:r["data-infographic-css"])&&i.push("https://infographics.economist.com".concat(e.attribs["data-infographic-css"]))),(null===e||void 0===e?void 0:e.children)&&Array.isArray(null===e||void 0===e?void 0:e.children)&&e.children.forEach(t)};return null===e||void 0===e||e.forEach((function(e){t(e)})),{scripts:n,css:i}}(L.text),le=re.scripts,ae=re.css;return L._metadata={articleId:ee,tegID:ne,title:c({sectionHeadline:M,headline:F,subheadline:O}),shareSnippet:u(e),headline:F,section:M,keywords:oe,author:[H||"The Economist"],url:R,type:S,articleBody:j,description:z,ogDescription:z,imageUrl:K||B||(0,v.resolveAsset)("engassets/og-fallback-image.png"),imageHeight:K?null===e||void 0===e||null===(k=e.image)||void 0===k||null===(q=k.promo)||void 0===q?void 0:q.height:null===e||void 0===e||null===(T=e.image)||void 0===T||null===(E=T.main)||void 0===E?void 0:E.height,imageWidth:K?null===e||void 0===e||null===(A=e.image)||void 0===A||null===(I=A.promo)||void 0===I?void 0:I.width:null===e||void 0===e||null===(_=e.image)||void 0===_||null===(D=_.main)||void 0===D?void 0:D.width,datePublished:Y,dateModified:G,dateCreated:W,isPrintArticle:V,printEdition:X,copyrightYear:Q,dateline:J,inLanguage:$,interactive:le.length+ae.length>0,scripts:le,css:ae},L},p=function(e){var n,i=((null===e||void 0===e||null===(n=e.hasPart)||void 0===n?void 0:n.parts)||[]).map((function(n){var i,t;if(((null===n||void 0===n?void 0:n.type)||[]).some((function(e){return["CollectionPage","PublicationIssue"].includes(e)})))return p(n);var l=(n.isPartOf||[]).find((function(n){return n&&n.id===e.id})),a=null===l||void 0===l||null===(i=l.context)||void 0===i?void 0:i.headline,d=null===l||void 0===l||null===(t=l.context)||void 0===t?void 0:t.description;return(0,r.Z)((0,o.Z)({},n),{_metadata:{headline:a||(null===n||void 0===n?void 0:n.headline),description:d||(null===n||void 0===n?void 0:n.description)}})}));return(0,r.Z)((0,o.Z)({},e),{hasPart:(0,r.Z)((0,o.Z)({},e.hasPart),{parts:i})})},m=function(e,n){var i=e.find((function(e){return(e?null===e||void 0===e?void 0:e.regionsAllowed:[]).includes(n.toUpperCase())}));return i||e.find((function(e){return(e?null===e||void 0===e?void 0:e.regionsAllowed:[]).includes(f.DEFAULT_COUNTRY_CODE)}))},b=function(){var e=(0,t.Z)((function(e){var n,i,t,o,r,a,c,u,v,f,h,b,y,Z;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:n=e.query,i=e.requestId,t=e.apolloClient,o=e.countryCode,r=void 0===o?null:o,a=(0,l.Z)((0,s.createTimerLogger)(i),2),c=a[0],u=a[1],d.label=1;case 1:return d.trys.push([1,3,,4]),c({msg:"Fetching content from Content Platform",fn:"getContent"}),[4,t.query(n)];case 2:if(f=d.sent(),u({msg:"Returned from CP",fn:"getContent"}),!(h=null===f||void 0===f||null===(v=f.data)||void 0===v?void 0:v.canonical)&&f.errors)throw u({msg:"Error fetching content from CP",fn:"getContent",error:f.errors}),null===f||void 0===f||null===(b=f.errors)||void 0===b?void 0:b[0];return(y=(null===h||void 0===h?void 0:h.type)||[]).includes("Article")?[2,g(h)]:y.includes("CollectionPage")?[2,p(h)]:r&&h.rendition?[2,m(h.rendition,r)]:[2,h];case 3:if("404: An error has occurred"===(null===(Z=d.sent())||void 0===Z?void 0:Z.message))return s.logger.log({level:"warn",requestId:i,time:Date.now(),message:"Received 404 File Not Found when fetching from Content Platform",function:"getContent",raw:Z}),[2,null];throw s.logger.log({level:"error",requestId:i,time:Date.now(),message:"Error fetching content from Content Platform",function:"getContent",raw:Z}),Z;case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}(),y=function(){var e=(0,t.Z)((function(e){var n,i,t,o,r,a,c,u,v,f;return(0,d.__generator)(this,(function(d){switch(d.label){case 0:n=e.query,i=e.requestId,t=e.apolloClient,o=(0,l.Z)((0,s.createTimerLogger)(i),2),r=o[0],a=o[1],d.label=1;case 1:return d.trys.push([1,3,,4]),r({msg:"Fetching content from Content Platform",fn:"getMultipleContent"}),[4,t.query(n)];case 2:if(c=d.sent(),a({msg:"Returned from CP",fn:"getMultipleContent"}),u=null===c||void 0===c?void 0:c.data,c.errors)throw a({msg:"Error fetching content from CP",fn:"getMultipleContent",error:c.errors}),null===c||void 0===c||null===(v=c.errors)||void 0===v?void 0:v[0];return[2,u];case 3:if("404: An error has occurred"===(null===(f=d.sent())||void 0===f?void 0:f.message))return s.logger.warn({requestId:i,time:Date.now(),message:"Received 404 File Not Found when fetching from Content Platform",function:"getMultipleContent",error:f}),[2,null];throw s.logger.error({requestId:i,time:Date.now(),message:"Error fetching content from Content Platform",function:"getMultipleContent",error:f}),f;case 4:return[2]}}))}));return function(n){return e.apply(this,arguments)}}()},83004:function(e,n,i){i.d(n,{K:function(){return t},s:function(){return o}});var t=function(e){return"string"===typeof e&&-1!==e.indexOf("-")?e.substr(0,e.indexOf("-")):e},o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.req,o=i.headers["incap-geo"],r=i.headers["cf-ipcountry"],l=(o||r||"").toUpperCase(),a=t(l);return"GB"===a?"UK":a||n}},34609:function(e,n,i){i.d(n,{P:function(){return t}});var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};return Object.keys(e).forEach((function(i){i.startsWith("data-")&&(n[i]=e[i])})),n}},20291:function(e,n,i){i.d(n,{x:function(){return s}});var t=i(26042),o=i(69396),r=i(35944),l=(i(67294),i(27361)),a=i.n(l),d=i(69604),c=i(34609),u=i(35631),s=function(e){var n=e.articleText,i=e.path,l=void 0===i?"":i,v=e.ad,f=e.parent,h=void 0===f?"":f,g=e.classPrefix;return Array.isArray(n)?n.map((function(e,n){return e&&function(e,n){var i=e.type,l=e.name,f=void 0===l?"":l,p=e.data,m=e.children,b=e.attribs,y=void 0===b?{}:b,Z=f,P=(0,c.P)(y);switch(i){case"tag":switch(f){case"a":return(0,r.tZ)(d.rU,{href:y.href,attributes:P,children:s({articleText:m,key:n,ad:v,classPrefix:g})},n);case"p":var w=null;return g&&(w="".concat(g,"-text"),"blockquote"!==h&&"cite"!==h||(w=null),"cite"===a()(m,"0.name")&&(w="".concat(g,"-cite")),"initial"===a()(m,"0.attribs.data-caps")&&(w+=" ".concat(g,"-text--dropcap"),P=(0,c.P)(a()(m,"0.attribs")))),(0,r.tZ)("p",(0,o.Z)((0,t.Z)({},P),{className:w,children:s({articleText:m,key:n,ad:v,classPrefix:g})}),n);case"img":if(!y.src)return null;var x=y.sizes;x||(x=y["data-slim"]&&"0"!==y["data-slim"]?"336px":"(min-width: 720px) 640px, 95vw");var C=!["eager","auto"].includes(y.loading);return(0,r.tZ)(d.Ee,(0,t.Z)({height:parseInt(y.height,10),width:parseInt(y.width,10),imgUrl:y.src,alt:y.alt,slim:y["data-slim"],sizes:x,lazyLoad:C},P),n);case"video":return"";case"area":case"base":case"br":case"embed":case"hr":case"input":case"link":case"meta":case"param":case"source":case"track":case"col":case"wbr":var k=f;return(0,r.tZ)(k,(0,t.Z)({},P),n);case"blockquote":return(0,r.tZ)("blockquote",(0,o.Z)((0,t.Z)({},P),{children:s({articleText:m,key:n,ad:v,parent:"blockquote",classPrefix:g})}),n);case"cite":return(0,r.tZ)("cite",(0,o.Z)((0,t.Z)({},P),{children:s({articleText:m,key:n,ad:v,parent:"cite",classPrefix:g})}),n);case"q":return(0,r.tZ)("q",(0,o.Z)((0,t.Z)({},P),{children:s({articleText:m,key:n,ad:v,classPrefix:g})}),n);case"iframe":var q=y.id?"eid-".concat(y.id):null,T=y.src;try{var E=new URL(T);E.hostname.includes("youtube.com")&&(E.searchParams.append("enablejsapi",1),T=E.href)}catch(_){u.logger.info("Error generating iframe HTML: ",_)}return(0,r.tZ)("iframe",(0,t.Z)({height:String(parseInt(y.height,10)),src:T,id:q},P),n);case"figure":if(!0===("https://schema.org/WPAdBlock"===y.itemtype))return null;var A=["https://infographics.economist.com","https://economist.com/assets/infographic/","https://www.economist.com/assets/infographic/","https://stage.economist.com/assets/infographic/"],I=null===m||void 0===m?void 0:m.some((function(e){return"iframe"===(null===e||void 0===e?void 0:e.name)&&!!A.some((function(n){var i,t;return null===e||void 0===e||null===(i=e.attribs)||void 0===i||null===(t=i.src)||void 0===t?void 0:t.includes(n)}))}));return(0,r.tZ)(Z,(0,o.Z)((0,t.Z)({},P),{className:I?"interactive-figure":void 0,children:s({articleText:m,key:n,ad:v,classPrefix:g})}),n);case"aside":return(0,r.tZ)("aside",(0,o.Z)((0,t.Z)({},P),{className:g?"".concat(g,"-aside"):"",children:s({articleText:m,key:n,ad:v,classPrefix:g})}),n);case"div":return y.container?(0,r.tZ)("div",(0,o.Z)((0,t.Z)({},P),{className:g?"".concat(g,"-container"):"",children:s({articleText:m,key:n,ad:v,classPrefix:g})}),n):s({articleText:m,key:n,ad:v,classPrefix:g});default:return(0,r.tZ)(Z,(0,o.Z)((0,t.Z)({},P),{children:s({articleText:m,key:n,ad:v,classPrefix:g})}),n)}case"text":return p.replace(/&amp;|&gt;|&lt;|&quot;/g,(function(e){switch(e){case"&amp;":return"&";case"&lt;":return"<";case"&gt;":return">";case"&quot;":return'"'}}));default:return""}}(e,"".concat(l,"-").concat(n))})):null}}}]);